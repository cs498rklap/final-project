
<div class="row text-center">
    <h1>JOB POSTINGS</h1>
</div>

{{page}}

<div class="row clearfix">
    <span class="float-left">
        <ul class="pagination">
            <li ng-class="page<=1 ? 'arrow unavailable' : 'arrow'" ng-click="firstPage();">&laquo</li>
            <li ng-class="page<=1 ? 'arrow unavailable' : 'arrow'" ng-click="prevPage();"><</li>

            <li ng-repeat="num in getPages()" ng-class="page==num ? 'current' : ''" ng-click="setPage(num);">{{num}}</li>

            <li ng-class="page>=maxPage() ? 'arrow unavailable' : 'arrow'" ng-click="nextPage();">></li>
            <li ng-class="page>=maxPage() ? 'arrow unavailable' : 'arrow'" ng-click="lastPage();">&raquo</li>
        </ul>

        <span>Search Field:</span>
        <span>
            <select ng-model="field">
                <option value="none">None</option>
                <option value="state">State</option>
                <option value="title">Job Title</option>
                <option value="description">Description</option>
            </select>
        </span>
        <span ng-show="field=='state'">
            <span>State:</span>
            <select ng-options="st.abbreviation as st.name for st in states"
                    ng-model="state">
            </select>
        </span>
        <span ng-show="field=='title'||field=='description'">
            <span>Search Query:</span>
            <span>
                <input type="text" ng-model="query" placeholder="Enter search query...">
            </span>
        </span>
        <span class="button success" ng-click="page=1;refresh()">Search</span>
    </span>
</div>

<div ng-repeat="job in jobs" class="row">
    <a ng-href="#/jobs/{{job._id}}" class="small-12 columns clearfix">
        <span class="float-left">
            {{job.title}} - {{job.city}}, {{job.state}}
        </span>
        <span class="float-right">
            {{job.author}} - {{job.dateCreated}}
        </span>
    </a>
</div>

<div class="row clearfix">
    <span class="float-left">
        <ul class="pagination">
            <li ng-class="page<=1 ? 'arrow unavailable' : 'arrow'" ng-click="firstPage();">&laquo</li>
            <li ng-class="page<=1 ? 'arrow unavailable' : 'arrow'" ng-click="prevPage();"><</li>

            <li ng-repeat="num in getPages()" ng-class="page==num ? 'current' : ''" ng-click="setPage(num);">{{num}}</li>

            <li ng-class="page>=maxPage() ? 'arrow unavailable' : 'arrow'" ng-click="nextPage();">></li>
            <li ng-class="page>=maxPage() ? 'arrow unavailable' : 'arrow'" ng-click="lastPage();">&raquo</li>
        </ul>
        <span>Search Field:</span>
        <span>
            <select ng-model="field">
                <option value="none">None</option>
                <option value="state">State</option>
                <option value="title">Job Title</option>
                <option value="description">Description</option>
            </select>
        </span>
        <span ng-show="field=='state'">
            <span>State:</span>
            <select ng-options="st.name for st in states"
                    ng-model="state">
            </select>
        </span>
        <span ng-show="field=='title'||field=='description'">
            <span>Search Query:</span>
            <span>
                <input type="text" ng-model="query" placeholder="Enter search query...">
            </span>
        </span>
        <span class="button success" ng-click="refresh()">Search</span>

    </span>
</div>